<technique name="simple_target" version="100">

    <!-- Render Targets -->
    <rendertargets>
        <target name="targetTest" x="0" y="0" width="512" height="384" ratio="0.0" color="0xffff0000">
            <color active="true" attach="1" clear="true" format="8888" output="texture"/>
            <depth active="true" clear="true" format="16" output="texture"/>
        </target>
        <target name="targetTestMSAA" x="512" y="384" width="512" height="384" ratio="0.0" color="0xffff0000" aa="msaa">
            <color active="true" attach="1" clear="true" format="8888" output="texture"/>
            <depth active="true" clear="true" format="16" output="texture"/>
        </target>
    </rendertargets>
    
    <!-- Render Passes -->
    <pass name="pass0">
        <uniforms>
            <var name="transform.projectionMatrix" type="mat4" val="transform.projectionMatrix"/>
            <var name="transform.modelMatrix" type="mat4" val="transform.modelMatrix"/>
            <var name="transform.viewMatrix" type="mat4" val="transform.viewMatrix"/>
        </uniforms>
        <attributes>
            <var name="positions" type="vec3" val="mesh.positions"/>
        </attributes>
        <samplers> 
        </samplers>
        <renderstate>
            <polygonmode val="line"/>
            <winding val="cw"/>
            <culling val="false"/>
            <blending val="false" src="srcAlpha" dst="invSrcAlpha"/>
            <depthWrite val="true"/>
            <depthTest val="lequal"/>
        </renderstate>
        <rendertarget>
            <var val="targetTest"/>
            <var val="targetTestMSAA"/>
        </rendertarget>
        <lod geometry="0.0"/>
        <shaders>
            <var type="vertex" name="vdefault">
                <![CDATA[
                    #define POSITION 0
                    
                    layout (location = POSITION) in vec3 positions;
                    
                    struct Transform
                    {
                        mat4 projectionMatrix;
                        mat4 modelMatrix;
                        mat4 viewMatrix;
                    };
                    
                    uniform Transform transform;
                    
                    void main()
                    {
                        vec4 vertex = transform.modelMatrix * vec4(positions, 1.0);
                        gl_Position = transform.projectionMatrix * transform.viewMatrix * vertex;
                    }
                ]]>
            </var>
            <var type="fragment" name="fdefault">
                <![CDATA[
                    out vec4 fragColor;
                    
                    void main()
                    {
                         fragColor = vec4(1.0f, 1.0f, 1.0f, 1.0f);
                    }
                ]]>
            </var>
        </shaders>
    </pass>
</technique>
